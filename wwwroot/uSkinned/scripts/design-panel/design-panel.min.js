function hexToRgb(n){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}$(document).ready(function(){$(".usn-cms-manager.usn-cms-manager_editor_content .expand-usn-cms-manager-button").click(function(){$("html").toggleClass("open_usn-cms-manager_content");$("html").removeClass("open_usn-cms-manager_design")});$(".usn-cms-manager.usn-cms-manager_editor_design .expand-usn-cms-manager-button").click(function(){$("html").toggleClass("open_usn-cms-manager_design");$("html").removeClass("open_usn-cms-manager_content")});$(".usn-cms-tabs-item").click(function(){$(this).addClass("usn-cms-tabs-item-grouping-open").siblings().removeClass("usn-cms-tabs-item-grouping-open");$($(this).attr("href")).addClass("usn-grouping-open").siblings().removeClass("usn-grouping-open")});$(".usn-cms-color-tabs-item").click(function(){$(this).addClass("usn-cms-color-tabs-item-open").siblings().removeClass("usn-cms-color-tabs-item-open");$($(this).attr("href")).addClass("usn-tab-pane-open").siblings().removeClass("usn-tab-pane-open")});$(".modal").on("shown.bs.modal",function(){$(".slides").slick("setPosition");lazyframe(".lazyframe-video");$(document).off("focusin.modal")})});var designApp=angular.module("designApp",["ui.sortable"]);designApp.controller("DesignAppController",["$scope","$http","$timeout","$window",function(n,t,r,u){function f(n,t,i,r,u){var f="";if(n=="gradient"){if(r=="radial")switch(u){case"topLeft":f="radial-gradient(farthest-side at 0% 0%, "+t+" 0%, "+i+" 100%)";break;case"topCenter":f="radial-gradient(farthest-side at 50% 0%, "+t+" 0%, "+i+" 100%)";break;case"topRight":f="radial-gradient(farthest-side at 100% 0%, "+t+" 0%, "+i+" 100%)";break;case"middleLeft":f="radial-gradient(farthest-side at 0% 50%, "+t+" 0%, "+i+" 100%)";break;case"middleCenter":f="radial-gradient("+t+" 0%, "+i+" 100%)";break;case"middleRight":f="radial-gradient(farthest-side at 100% 50%, "+t+" 0%, "+i+" 100%)";break;case"bottomLeft":f="radial-gradient(farthest-side at 0% 100%, "+t+" 0%, "+i+" 100%)";break;case"bottomCenter":f="radial-gradient(farthest-side at 50% 100%, "+t+" 0%, "+i+" 100%)";break;case"bottomRight":f="radial-gradient(farthest-side at 100% 0%, "+t+" 0%, "+i+" 100%)";break;default:f="radial-gradient(farthest-side at 0% 50%, "+t+" 0%, "+i+" 100%)"}else switch(u){case"topLeft":f="linear-gradient(135deg, "+t+" 0%, "+i+" 100%)";break;case"topCenter":f="linear-gradient("+t+" 0%, "+i+" 100%)";break;case"topRight":f="linear-gradient(225deg, "+t+" 0%, "+i+" 100%)";break;case"middleLeft":f="linear-gradient(90deg, "+t+" 0%, "+i+" 100%)";break;case"middleRight":f="linear-gradient(270deg, "+t+" 0%, "+i+" 100%)";break;case"bottomLeft":f="linear-gradient(45deg, "+t+" 0%, "+i+" 100%)";break;case"bottomCenter":f="linear-gradient(0deg, "+t+" 0%, "+i+" 100%)";break;case"bottomRight":f="linear-gradient(315deg, "+t+" 0%, "+i+" 100%)";break;default:f="linear-gradient(90deg, "+t+" 0%, "+i+" 100%)"}f="background: "+f+";"}else n=="solid"&&(f="background:"+t+";");return f}function e(n,t,i){return t=="gradient"?i=="radial"?n+"-radial":n+"-linear":n+"-solid"}function v(n,t,i){var r;if(n=="gradient")if(t=="radial")switch(i){case"topLeft":r={StartPerc:"0%",StopPerc:"0%",Angle:"90deg"};break;case"topCenter":r={StartPerc:"50%",StopPerc:"0%",Angle:"90deg"};break;case"topRight":r={StartPerc:"100%",StopPerc:"0%",Angle:"90deg"};break;case"middleLeft":r={StartPerc:"0%",StopPerc:"50%",Angle:"90deg"};break;case"middleCenter":r={StartPerc:"50%",StopPerc:"50%",Angle:"90deg"};break;case"middleRight":r={StartPerc:"100%",StopPerc:"50%",Angle:"90deg"};break;case"bottomLeft":r={StartPerc:"0%",StopPerc:"100%",Angle:"90deg"};break;case"bottomCenter":r={StartPerc:"50%",StopPerc:"100%",Angle:"90deg"};break;case"bottomRight":r={StartPerc:"100%",StopPerc:"0%",Angle:"90deg"};break;default:r={StartPerc:"0%",StopPerc:"50%",Angle:"90deg"}}else switch(i){case"topLeft":r={StartPerc:"50%",StopPerc:"50%",Angle:"135deg"};break;case"topCenter":r={StartPerc:"50%",StopPerc:"50%",Angle:"-180deg"};break;case"topRight":r={StartPerc:"50%",StopPerc:"50%",Angle:"225deg"};break;case"middleLeft":r={StartPerc:"50%",StopPerc:"50%",Angle:"90deg"};break;case"middleRight":r={StartPerc:"50%",StopPerc:"50%",Angle:"270deg"};break;case"bottomLeft":r={StartPerc:"50%",StopPerc:"50%",Angle:"45deg"};break;case"bottomCenter":r={StartPerc:"50%",StopPerc:"50%",Angle:"0deg"};break;case"bottomRight":r={StartPerc:"50%",StopPerc:"50%",Angle:"315deg"};break;default:r={StartPerc:"50%",StopPerc:"50%",Angle:"90deg"}}else n=="solid"&&(r={StartPerc:"50%",StopPerc:"50%",Angle:"90deg"});return r}function o(n,t){return n=="linear"&&t=="middleCenter"?"middleLeft":t}function s(t,i,r,u){if(t=="content"){var f="c"+(u+1)+"-bg",o=n.styles.themeColors.contentItems[u].backgroundStyle,s=n.styles.themeColors.contentItems[u].backgroundGradientStyle,h=e(f,o,s),c=e(f,i,r);$("."+f).removeClass(h);$("."+f).addClass(c)}else if(t=="button"){var f="c"+(u+1)+"-btn-bg",o=n.styles.themeColors.buttonItems[u].backgroundStyle,s=n.styles.themeColors.buttonItems[u].backgroundGradientStyle,h=e(f,o,s),c=e(f,i,r);$("."+f).removeClass(h);$("."+f).addClass(c)}else if(t=="buttonHover"){var f="c"+(u+1)+"-btn-bg",o=n.styles.themeColors.buttonItems[u].backgroundHoverStyle,s=n.styles.themeColors.buttonItems[u].backgroundHoverGradientStyle,h=e(f+"-hover",o,s),c=e(f+"-hover",i,r);$("."+f).removeClass(h);$("."+f).addClass(c)}else if(t=="baseButtonHover"){var f="base-btn-bg",o=n.styles.themeColors.buttonBackgroundHoverStyle,s=n.styles.themeColors.buttonBackgroundHoverGradientStyle,h=e(f+"-hover",o,s),c=e(f+"-hover",i,r);$("."+f).removeClass(h);$("."+f).addClass(c)}else if(t=="label"){var f="c"+(u+1)+"-label-bg",o=n.styles.themeColors.labelItems[u].backgroundStyle,s=n.styles.themeColors.labelItems[u].backgroundGradientStyle,h=e(f,o,s),c=e(f,i,r);$("."+f).removeClass(h);$("."+f).addClass(c)}}function p(t){var i=n.styles.themeFonts.fontItems[t];n.styles.themeFonts.fontItems.splice(t,1);n.styles.themeFonts.bodyFont.guid==i.guid&&(n.styles.themeFonts.bodyFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.h1Font.guid==i.guid&&(n.styles.themeFonts.h1Font=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.h2Font.guid==i.guid&&(n.styles.themeFonts.h2Font=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.h3Font.guid==i.guid&&(n.styles.themeFonts.h3Font=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.h4Font.guid==i.guid&&(n.styles.themeFonts.h4Font=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.h5Font.guid==i.guid&&(n.styles.themeFonts.h5Font=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.h6Font.guid==i.guid&&(n.styles.themeFonts.h6Font=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.headingSmallFont.guid==i.guid&&(n.styles.themeFonts.headingSmallFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.headingMediumFont.guid==i.guid&&(n.styles.themeFonts.headingMediumFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.headingLargeFont.guid==i.guid&&(n.styles.themeFonts.headingLargeFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.secHeadingSmallFont.guid==i.guid&&(n.styles.themeFonts.secHeadingSmallFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.secHeadingMediumFont.guid==i.guid&&(n.styles.themeFonts.secHeadingMediumFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.secHeadingLargeFont.guid==i.guid&&(n.styles.themeFonts.secHeadingLargeFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.introSmallFont.guid==i.guid&&(n.styles.themeFonts.introSmallFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.introMediumFont.guid==i.guid&&(n.styles.themeFonts.introMediumFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.introLargeFont.guid==i.guid&&(n.styles.themeFonts.introLargeFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.blockquoteSmallFont.guid==i.guid&&(n.styles.themeFonts.blockquoteSmallFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.blockquoteMediumFont.guid==i.guid&&(n.styles.themeFonts.blockquoteMediumFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.blockquoteLargeFont.guid==i.guid&&(n.styles.themeFonts.blockquoteLargeFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.buttonSmallFont.guid==i.guid&&(n.styles.themeFonts.buttonSmallFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.buttonMediumFont.guid==i.guid&&(n.styles.themeFonts.buttonMediumFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.buttonLargeFont.guid==i.guid&&(n.styles.themeFonts.buttonLargeFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.mainNavFont.guid==i.guid&&(n.styles.themeFonts.mainNavFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.mainNavDropdownFont.guid==i.guid&&(n.styles.themeFonts.mainNavDropdownFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.secondaryNavFont.guid==i.guid&&(n.styles.themeFonts.secondaryNavFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.subNavFont.guid==i.guid&&(n.styles.themeFonts.subNavFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.footerNavFont.guid==i.guid&&(n.styles.themeFonts.footerNavFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.breadcrumbNavFont.guid==i.guid&&(n.styles.themeFonts.breadcrumbNavFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.anchorNavFont.guid==i.guid&&(n.styles.themeFonts.anchorNavFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.accordionTabNavFont.guid==i.guid&&(n.styles.themeFonts.accordionTabNavFont=n.styles.themeFonts.fontItems[0]);n.styles.themeFonts.logoFont.guid==i.guid&&(n.styles.themeFonts.logoFont=n.styles.themeFonts.fontItems[0])}function w(n){for(var i=[],r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",u=r.length,f=n||32,t=0;t<f;t++)i[t]=r.charAt(Math.floor(Math.random()*u));return i.join("")}function b(n){var t=[];return angular.forEach(n,function(n,i){var r={};r.styleName=i;r.styleWeight=d(n);t.push(r)}),t=t.reverse()}function k(n){var t=":";return angular.forEach(n,function(n){for(i=0;i<n.styleWeight.length;i++)t+=n.styleWeight[i],n.styleName=="italic"&&(t+="i"),t+=","}),t=t.substring(0,t.length-1)}function d(n){var t=[];return angular.forEach(n,function(n,i){t.push(i.toString())}),t}function c(n){var t=new XMLHttpRequest;return t.open("HEAD",n,!1),t.send(),t.status!==404}function g(n,t){return n.toLowerCase().endsWith(t.toLowerCase())}function nt(){var n=tt("culture"),i=usnPageId,t="/"+i;return n&&(t+="?culture="+n),t}function tt(n,t){t||(t=u.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}var h,l,a;n.stylesPromiseComplete=!1;n.googleFontsPromiseComplete=!1;n.getStylesError=!1;n.getGoogleFontsError=!1;n.savingStatus="Ready";n.buttonDisabled=!1;n.saveButtonText="Save and publish";n.getLoggedOutError=!1;n.licenseError=!1;n.getGeneralSaveError=!1;n.paletteItems=[];const y="/uSkinned/resources/google-fonts.json";h=[];n.headerLayoutTabStyle=!0;n.burgerLayoutTabStyle=!0;n.arrowsLayoutTabStyle=!0;n.headingLayoutTabStyle=!0;n.linksLayoutTabStyle=!0;n.linksLayoutTabStyle=!0;n.miscLayoutTabStyle=!0;n.imagesTabStyle=!0;n.headingStyles=[{Text:"Above headings",Value:"has-heading-seperator-above",Selected:!1},{Text:"Below headings",Value:"has-heading-seperator-below",Selected:!1},{Text:"Above secondary headings",Value:"has-secondary-heading-seperator-above",Selected:!1},{Text:"Below secondary headings",Value:"has-secondary-heading-seperator-below",Selected:!1}];n.selectedHeadingItems=[];n.bodyColorTabStyle=!0;n.headerColorTabStyle=!0;n.logoColorTabStyle=!0;n.mainNavigationColorTabStyle=!0;n.navigationDropdownColorTabStyle=!0;n.secondaryNavigationColorTabStyle=!0;n.footerColorTabStyle=!0;n.contentColorTabStyle=!0;n.buttonColorTabStyle=!0;n.siteSpacingTabStyle=!0;n.headerSpacingTabStyle=!0;n.logoSpacingTabStyle=!0;n.generalSpacingTabStyle=!0;n.footerSpacingTabStyle=!0;n.componentsSpacingTabStyle=!0;n.formsSpacingTabStyle=!0;n.buttonsSpacingTabStyle=!0;n.modalSpacingTabStyle=!0;n.showSiteWidth=!1;n.showHeaderWidth=!1;n.showFooterWidth=!0;n.bodyFontTabStyle=!0;n.h1FontTabStyle=!0;n.h2FontTabStyle=!0;n.h3FontTabStyle=!0;n.h4FontTabStyle=!0;n.h5FontTabStyle=!0;n.h6FontTabStyle=!0;n.headingSmallFontTabStyle=!0;n.headingMediumFontTabStyle=!0;n.headingLargeFontTabStyle=!0;n.secHeadingSmallFontTabStyle=!0;n.secHeadingMediumFontTabStyle=!0;n.secHeadingLargeFontTabStyle=!0;n.introSmallFontTabStyle=!0;n.introMediumFontTabStyle=!0;n.introLargeFontTabStyle=!0;n.blockquoteSmallFontTabStyle=!0;n.blockquoteMediumFontTabStyle=!0;n.blockquoteLargeFontTabStyle=!0;n.buttonSmallFontTabStyle=!0;n.buttonMediumFontTabStyle=!0;n.buttonLargeFontTabStyle=!0;n.mainNavFontTabStyle=!0;n.mainNavDropdownFontTabStyle=!0;n.secondaryNavFontTabStyle=!0;n.subNavFontTabStyle=!0;n.footerNavFontTabStyle=!0;n.breadcrumbNavFontTabStyle=!0;n.anchorNavFontTabStyle=!0;n.accordionTabNavFontTabStyle=!0;n.logoFontTabStyle=!0;n.editText=!1;n.systemFonts=[{fontType:"system",fontName:"Arial",fontCategory:"Helvetica, sans-serif",fontImport:"",fontFamily:"Arial, san-serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Comic Sans",fontCategory:"Comic Sans MS, cursive",fontImport:"",fontFamily:"Comic Sans, cursive",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Courier New",fontCategory:"Courier, monospace",fontImport:"",fontFamily:"Courier New, monospace",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Georgia",fontCategory:"serif",fontImport:"",fontFamily:"Georgia, serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Helvetica",fontCategory:"Arial, sans-serif",fontImport:"",fontFamily:"Helvetica, san-serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Impact",fontCategory:"Charcoal, san-serif",fontImport:"",fontFamily:"Impact, san-serif",fontStyle:[{styleName:"normal",styleWeight:["400"]},{styleName:"italic",styleWeight:["400"]}]},{fontType:"system",fontName:"Lucida Console",fontCategory:"Monaco, monospace",fontImport:"",fontFamily:"Lucida Console, monospace",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Lucida Sans Unicode",fontCategory:"Lucida Grande, san-serif",fontImport:"",fontFamily:"Lucida Sans Unicode, san-serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Palatino Linotype",fontCategory:"Book Antiqua,Palatino, serif",fontImport:"",fontFamily:"Palatino Linotype, serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Tahoma",fontCategory:"Geneva, san-serif",fontImport:"",fontFamily:"Tahoma, san-serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Times New Roman",fontCategory:"Times, serif",fontImport:"",fontFamily:"Times New Roman, serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Trebuchet MS",fontCategory:"Helvetica, san-serif",fontImport:"",fontFamily:"Trebuchet MS, san-serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]},{fontType:"system",fontName:"Verdana",fontCategory:"Geneva, san-serif",fontImport:"",fontFamily:"Verdana, san-serif",fontStyle:[{styleName:"normal",styleWeight:["400","700"]},{styleName:"italic",styleWeight:["400","700"]}]}];l=t.get("/umbraco/backoffice/api/USNDesignPanel/GetStyles",{params:{websiteStyleId:websiteStyleId}});l.then(function(i){var o,r,u,e;for(n.styles=i.data,n.styles.themeSpacing.componentMaximumWidth=n.styles.themeSpacing.componentMaximumWidth?n.styles.themeSpacing.componentMaximumWidth:1350,n.googleFontSource=n.styles.googleFontSource,n.styles.themeColors.paletteItems==null?n.styles.themeColors.paletteItems=[]:n.paletteItems=n.styles.themeColors.paletteItems,n.styles.themeColors.labelItems==null&&(n.styles.themeColors.labelItems=[]),n.styles.themeColors.contentItems.forEach(function(n){n.tabStyle=!0;n.backgroundSwatch=f(n.backgroundStyle,n.background,n.background2,n.backgroundGradientStyle,n.backgroundGradientDirection)}),n.styles.themeColors.buttonItems.forEach(function(n){n.tabStyle=!0;n.backgroundSwatch=f(n.backgroundStyle,n.background,n.background2,n.backgroundGradientStyle,n.backgroundGradientDirection)}),n.styles.themeColors.labelItems.forEach(function(n){n.tabStyle=!0;n.backgroundSwatch=f(n.backgroundStyle,n.background,n.background2,n.backgroundGradientStyle,n.backgroundGradientDirection)}),n.styles.themeFonts.fontItems.forEach(function(n){n.tabStyle=!0;n.hasOwnProperty("adobeProjectId")||(n.adobeFontImport="",n.adobeProjectId="",n.adobeFontFamily="",n.adobeFontStyle="",n.adobeFontWeight="",n.adobeConfirmationError=!1,n.adobeFontConfirmed=!1,n.adobeButtonDisabled=!0);n.hasOwnProperty("customFileWoff2")||(n.customFontImport="",n.customFileWoff2="",n.customFontName="",n.customFontStack="",n.customFontConfirmationError=!1,n.customFontConfirmed=!1,n.customButtonDisabled=!0);n.fontType=="custom"&&n.customFontConfirmed&&(c(n.customFileWoff2)||(n.customFontConfirmationError=!0,n.customFontConfirmed=!1,n.customButtonDisabled=!0))}),o=n.styles.themeLayout.headingStyles?n.styles.themeLayout.headingStyles.split(","):"",r=0;r<n.headingStyles.length;r++){for(u=!1,e=0;e<o.length;e++)if(u=o[e]===n.headingStyles[r].Value,u)break;n.selectedHeadingItems.push({Selected:u,Text:n.headingStyles[r].Text,Value:n.headingStyles[r].Value})}return n.bodyBackgroundSwatch=f(n.styles.themeColors.bodyBackgroundStyle,n.styles.themeColors.bodyBackground,n.styles.themeColors.bodyBackground2,n.styles.themeColors.bodyBackgroundGradientStyle,n.styles.themeColors.bodyBackgroundGradientDirection),n.headerBackgroundSwatch=f(n.styles.themeColors.headerBackgroundStyle,n.styles.themeColors.headerBackground,n.styles.themeColors.headerBackground2,n.styles.themeColors.headerBackgroundGradientStyle,n.styles.themeColors.headerBackgroundGradientDirection),n.navDropdownBackgroundSwatch=f(n.styles.themeColors.navDropdownBackgroundStyle,n.styles.themeColors.navDropdownBackground,n.styles.themeColors.navDropdownBackground2,n.styles.themeColors.navDropdownBackgroundGradientStyle,n.styles.themeColors.navDropdownBackgroundGradientDirection),n.contentBackgroundSwatch=f(n.styles.themeColors.contentBackgroundStyle,n.styles.themeColors.contentBackground,n.styles.themeColors.contentBackground2,n.styles.themeColors.contentBackgroundGradientStyle,n.styles.themeColors.contentBackgroundGradientDirection),n.buttonBackgroundSwatch=f(n.styles.themeColors.buttonBackgroundStyle,n.styles.themeColors.buttonBackground,n.styles.themeColors.buttonBackground2,n.styles.themeColors.buttonBackgroundGradientStyle,n.styles.themeColors.buttonBackgroundGradientDirection),n.buttonBackgroundHoverSwatch=f(n.styles.themeColors.buttonBackgroundHoverStyle,n.styles.themeColors.buttonBackgroundHover,n.styles.themeColors.buttonBackgroundHover2,n.styles.themeColors.buttonBackgroundHoverGradientStyle,n.styles.themeColors.buttonBackgroundHoverGradientDirection),n.footerBackgroundSwatch=f(n.styles.themeColors.footerBackgroundStyle,n.styles.themeColors.footerBackground,n.styles.themeColors.footerBackground2,n.styles.themeColors.footerBackgroundGradientStyle,n.styles.themeColors.footerBackgroundGradientDirection),n.stylesPromiseComplete=!0,t.get(y,{headers:{"Content-Type":"application/json"}})},function(){n.stylesPromiseComplete=!0;n.getStylesError=!0}).then(function(t){t!==null&&t!==undefined&&t.data!==undefined?(angular.forEach(t.data,function(t,i){var r=b(t.variants),u=k(r),t={fontType:"google",fontName:i,fontCategory:t.category,fontImport:"@import url('https://"+n.googleFontSource+"/css?family="+i+u+"&display=swap');",fontFamily:i+", "+t.category,fontStyle:r};h.push(t)}),n.googleFonts=h,n.googleFontsPromiseComplete=!0):(n.googleFontsPromiseComplete=!0,n.getGoogleFontsError=!0)},function(){n.googleFontsPromiseComplete=!0;n.getGoogleFontsError=!0});n.updateCssVariable=function(n,t){document.documentElement.style.setProperty(n,t)};n.updateFontVariables=function(n,t){t.fontType=="adobe"&&t.adobeFontConfirmed?(document.documentElement.style.setProperty("--"+n+"-typography_font-name",t.adobeFontFamily),document.documentElement.style.setProperty("--"+n+"-typography_font-weight",t.adobeFontWeight),document.documentElement.style.setProperty("--"+n+"-typography_font-style",t.adobeFontStyle)):t.fontType=="custom"&&t.customFontConfirmed?(document.documentElement.style.setProperty("--"+n+"-typography_font-name","'"+t.customFontName+"',"+t.customFontStack),document.documentElement.style.setProperty("--"+n+"-typography_font-weight","normal"),document.documentElement.style.setProperty("--"+n+"-typography_font-style","normal")):(document.documentElement.style.setProperty("--"+n+"-typography_font-name","'"+t.font.fontName+"', "+t.font.fontCategory),document.documentElement.style.setProperty("--"+n+"-typography_font-weight",t.fontWeight),document.documentElement.style.setProperty("--"+n+"-typography_font-style",t.fontStyle.styleName))};n.resetCSSVariable=function(t,i){document.documentElement.style.setProperty("--"+t+"-typography_font-name","'"+n.styles.themeFonts.fontItems[i].font.fontName+"', "+n.styles.themeFonts.fontItems[i].font.fontCategory);document.documentElement.style.setProperty("--"+t+"-typography_font-weight",n.styles.themeFonts.fontItems[i].fontWeight);document.documentElement.style.setProperty("--"+t+"-typography_font-style",n.styles.themeFonts.fontItems[i].fontStyle.styleName)};n.addPaletteItem=function(){n.styles.themeColors.paletteItems.push("#000000")};n.removePaletteItem=function(){n.styles.themeColors.paletteItems.pop()};n.addContentItem=function(){n.styles.themeColors.contentItems.push({backgroundStyle:"solid",background:"#ffffff",background2:"#000000",backgroundGradientStyle:"linear",backgroundGradientDirection:"middleLeft",backgroundSwatch:f("solid","#ffffff","#000000","linear","middleLeft"),heading:"#000000",secondaryHeading:"#000000",text:"#000000",link:"#000000",linkHover:"#6c6c6c",border:"#000000",highlightBackground:"#6c6c6c",highlightText:"#ffffff",tabStyle:!1})};n.addButtonItem=function(){var t=f("solid","#ffffff","#000000","linear","middleLeft");n.styles.themeColors.buttonItems.push({backgroundStyle:"solid",background:"#ffffff",background2:"#000000",backgroundGradientStyle:"linear",backgroundGradientDirection:"middleLeft",backgroundSwatch:t,backgroundValue:t.replace("background:","").replace(";",""),text:"#000000",border:"#000000",backgroundHoverStyle:"solid",backgroundHover:"#000000",backgroundHover2:"#ffffff",backgroundHoverGradientStyle:"linear",backgroundHoverGradientDirection:"middleLeft",backgroundHoverValue:f("solid","#ffffff","#000000","linear","middleLeft").replace("background:","").replace(";",""),textHover:"#ffffff",borderHover:"#333333",tabStyle:!1})};n.addLabelItem=function(){n.styles.themeColors.labelItems.push({backgroundStyle:"solid",background:"#ffffff",background2:"#000000",backgroundGradientStyle:"linear",backgroundGradientDirection:"middleLeft",backgroundSwatch:f("solid","#ffffff","#000000","linear","middleLeft"),text:"#000000",tabStyle:!1})};n.addFontItem=function(){n.styles.themeFonts.fontItems.push({fontType:"system",font:n.systemFonts[0],fontStyle:n.systemFonts[0].fontStyle[0],fontWeight:n.systemFonts[0].fontStyle[0].styleWeight[0],tabStyle:!1,style:n.systemFonts[0].fontName+", "+n.systemFonts[0].fontCategory+", "+n.systemFonts[0].fontStyle[0].styleName+", "+n.systemFonts[0].fontStyle[0].styleWeight[0],adobeFontImport:"",adobeProjectId:"",adobeFontFamily:"",adobeFontStyle:"",adobeFontWeight:"",adobeConfirmationError:!1,adobeFontConfirmed:!1,adobeButtonDisabled:!0,customFontImport:"",customFileWoff2:"",customFontName:"",customFontStack:"",customFontConfirmationError:!1,customFontConfirmed:!1,customButtonDisabled:!0,guid:w()})};n.removeFontItem=function(t){n.styles.themeFonts.fontItems.length>1?confirm("Are you sure you want to delete this item?")&&p(t):alert("You cannot delete this font.\nA minimum of 1 font must be available.")};n.fontFamilyChange=function(t){n.styles.themeFonts.fontItems[t].fontStyle=n.styles.themeFonts.fontItems[t].font.fontStyle[0];n.styles.themeFonts.fontItems[t].fontWeight=n.styles.themeFonts.fontItems[t].font.fontStyle[0].styleWeight[0]};n.fontStyleChange=function(t){for(i=0;i<n.styles.themeFonts.fontItems[t].font.fontStyle.length;i++)if(n.styles.themeFonts.fontItems[t].font.fontStyle[i].styleName==n.styles.themeFonts.fontItems[t].fontStyle.styleName){n.styles.themeFonts.fontItems[t].fontStyle=n.styles.themeFonts.fontItems[t].font.fontStyle[i];break}n.styles.themeFonts.fontItems[t].fontWeight=n.styles.themeFonts.fontItems[t].fontStyle.styleWeight[0]};n.updateTypographyFontDropdowns=function(t,i){i=="system"||i=="google"?n.styles.themeFonts.fontItems[t].style=n.styles.themeFonts.fontItems[t].font.fontFamily+", "+n.styles.themeFonts.fontItems[t].fontStyle.styleName+", "+n.styles.themeFonts.fontItems[t].fontWeight:i=="adobe"?n.styles.themeFonts.fontItems[t].style=n.styles.themeFonts.fontItems[t].adobeFontConfirmed?n.styles.themeFonts.fontItems[t].adobeFontFamily+", "+n.styles.themeFonts.fontItems[t].adobeFontStyle+", "+n.styles.themeFonts.fontItems[t].adobeFontWeight:"ADOBE FONT NOT CONFIRMED":i=="custom"&&(n.styles.themeFonts.fontItems[t].style=n.styles.themeFonts.fontItems[t].customFontConfirmed?"'"+n.styles.themeFonts.fontItems[t].customFontName+"', "+n.styles.themeFonts.fontItems[t].customFontStack:"CUSTOM FONT NOT CONFIRMED");n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.bodyFont.guid&&(n.styles.themeFonts.bodyFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.h1Font.guid&&(n.styles.themeFonts.h1Font=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.h2Font.guid&&(n.styles.themeFonts.h2Font=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.h3Font.guid&&(n.styles.themeFonts.h3Font=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.h4Font.guid&&(n.styles.themeFonts.h4Font=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.h5Font.guid&&(n.styles.themeFonts.h5Font=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.h6Font.guid&&(n.styles.themeFonts.h6Font=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.headingSmallFont.guid&&(n.styles.themeFonts.headingSmallFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.headingMediumFont.guid&&(n.styles.themeFonts.headingMediumFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.headingLargeFont.guid&&(n.styles.themeFonts.headingLargeFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.secHeadingSmallFont.guid&&(n.styles.themeFonts.secHeadingSmallFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.secHeadingMediumFont.guid&&(n.styles.themeFonts.secHeadingMediumFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.secHeadingLargeFont.guid&&(n.styles.themeFonts.secHeadingLargeFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.introSmallFont.guid&&(n.styles.themeFonts.introSmallFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.introMediumFont.guid&&(n.styles.themeFonts.introMediumFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.introLargeFont.guid&&(n.styles.themeFonts.introLargeFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.blockquoteSmallFont.guid&&(n.styles.themeFonts.blockquoteSmallFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.blockquoteMediumFont.guid&&(n.styles.themeFonts.blockquoteMediumFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.blockquoteLargeFont.guid&&(n.styles.themeFonts.blockquoteLargeFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.buttonSmallFont.guid&&(n.styles.themeFonts.buttonSmallFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.buttonMediumFont.guid&&(n.styles.themeFonts.buttonMediumFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.buttonLargeFont.guid&&(n.styles.themeFonts.buttonLargeFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.mainNavFont.guid&&(n.styles.themeFonts.mainNavFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.mainNavDropdownFont.guid&&(n.styles.themeFonts.mainNavDropdownFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.secondaryNavFont.guid&&(n.styles.themeFonts.secondaryNavFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.subNavFont.guid&&(n.styles.themeFonts.subNavFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.footerNavFont.guid&&(n.styles.themeFonts.footerNavFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.breadcrumbNavFont.guid&&(n.styles.themeFonts.breadcrumbNavFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.anchorNavFont.guid&&(n.styles.themeFonts.anchorNavFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.accordionTabNavFont.guid&&(n.styles.themeFonts.accordionTabNavFont=n.styles.themeFonts.fontItems[t]);n.styles.themeFonts.fontItems[t].guid==n.styles.themeFonts.logoFont.guid&&(n.styles.themeFonts.logoFont=n.styles.themeFonts.fontItems[t])};n.updateFontFields=function(t,i){i.target.value==="system"&&n.styles.themeFonts.fontItems[t].fontType!=="system"?(n.styles.themeFonts.fontItems[t].font=n.systemFonts[0],n.styles.themeFonts.fontItems[t].fontStyle=n.systemFonts[0].fontStyle[0],n.styles.themeFonts.fontItems[t].fontWeight=n.systemFonts[0].fontStyle[0].styleWeight[0]):i.target.value==="google"&&n.styles.themeFonts.fontItems[t].fontType!=="google"?(n.styles.themeFonts.fontItems[t].font=n.googleFonts[0],n.styles.themeFonts.fontItems[t].fontStyle=n.googleFonts[0].fontStyle[0],n.styles.themeFonts.fontItems[t].fontWeight=n.googleFonts[0].fontStyle[0].styleWeight[0]):i.target.value==="adobe"&&n.styles.themeFonts.fontItems[t].fontType!=="adobe"?(n.styles.themeFonts.fontItems[t].font=n.systemFonts[0],n.styles.themeFonts.fontItems[t].fontStyle=n.systemFonts[0].fontStyle[0],n.styles.themeFonts.fontItems[t].fontWeight=n.systemFonts[0].fontStyle[0].styleWeight[0]):i.target.value==="custom"&&n.styles.themeFonts.fontItems[t].fontType!=="custom"&&(n.styles.themeFonts.fontItems[t].font=n.systemFonts[0],n.styles.themeFonts.fontItems[t].fontStyle=n.systemFonts[0].fontStyle[0],n.styles.themeFonts.fontItems[t].fontWeight=n.systemFonts[0].fontStyle[0].styleWeight[0]);n.updateTypographyFontDropdowns(t,i.target.value)};n.confirmAdobeFontSettings=function(t){var i="https://use.typekit.net/"+n.styles.themeFonts.fontItems[t].adobeProjectId.trim()+".css";c(i)?(n.styles.themeFonts.fontItems[t].adobeFontConfirmed=!0,n.styles.themeFonts.fontItems[t].adobeConfirmationError=!1,n.styles.themeFonts.fontItems[t].adobeFontImport="@import url('https://use.typekit.net/"+n.styles.themeFonts.fontItems[t].adobeProjectId.trim()+".css');",n.updateTypographyFontDropdowns(t,"adobe")):(n.styles.themeFonts.fontItems[t].adobeConfirmationError=!0,n.styles.themeFonts.fontItems[t].adobeFontConfirmed=!1)};n.resetAdobeFontSettings=function(t,i){i.preventDefault();n.styles.themeFonts.fontItems[t].adobeFontImport="";n.styles.themeFonts.fontItems[t].adobeProjectId="";n.styles.themeFonts.fontItems[t].adobeFontFamily="";n.styles.themeFonts.fontItems[t].adobeFontStyle="";n.styles.themeFonts.fontItems[t].adobeFontWeight="";n.styles.themeFonts.fontItems[t].adobeFontConfirmed=!1;n.styles.themeFonts.fontItems[t].adobeConfirmationError=!1;n.styles.themeFonts.fontItems[t].adobeButtonDisabled=!0;n.updateTypographyFontDropdowns(t,"adobe");n.styles.themeFonts.bodyFont.fontType=="adobe"&&n.resetCSSVariable("body",t);n.styles.themeFonts.h1Font.fontType=="adobe"&&n.resetCSSVariable("h1",t);n.styles.themeFonts.h2Font.fontType=="adobe"&&n.resetCSSVariable("h2",t);n.styles.themeFonts.h3Font.fontType=="adobe"&&n.resetCSSVariable("h3",t);n.styles.themeFonts.h4Font.fontType=="adobe"&&n.resetCSSVariable("h4",t);n.styles.themeFonts.h5Font.fontType=="adobe"&&n.resetCSSVariable("h5",t);n.styles.themeFonts.h6Font.fontType=="adobe"&&n.resetCSSVariable("h6",t);n.styles.themeFonts.headingSmallFont.fontType=="adobe"&&n.resetCSSVariable("p-heading_small",t);n.styles.themeFonts.headingMediumFont.fontType=="adobe"&&n.resetCSSVariable("p-heading",t);n.styles.themeFonts.headingLargeFont.fontType=="adobe"&&n.resetCSSVariable("p-heading_large",t);n.styles.themeFonts.secHeadingSmallFont.fontType=="adobe"&&n.resetCSSVariable("secondary-heading_small",t);n.styles.themeFonts.secHeadingMediumFont.fontType=="adobe"&&n.resetCSSVariable("secondary-heading",t);n.styles.themeFonts.secHeadingLargeFont.fontType=="adobe"&&n.resetCSSVariable("secondary-heading_large",t);n.styles.themeFonts.introSmallFont.fontType=="adobe"&&n.resetCSSVariable("p-intro_small",t);n.styles.themeFonts.introMediumFont.fontType=="adobe"&&n.resetCSSVariable("p-intro",t);n.styles.themeFonts.introLargeFont.fontType=="adobe"&&n.resetCSSVariable("p-intro_large",t);n.styles.themeFonts.blockquoteSmallFont.fontType=="adobe"&&n.resetCSSVariable("blockquote_small",t);n.styles.themeFonts.blockquoteMediumFont.fontType=="adobe"&&n.resetCSSVariable("blockquote",t);n.styles.themeFonts.blockquoteLargeFont.fontType=="adobe"&&n.resetCSSVariable("blockquote_large",t);n.styles.themeFonts.buttonSmallFont.fontType=="adobe"&&n.resetCSSVariable("btn_small",t);n.styles.themeFonts.buttonMediumFont.fontType=="adobe"&&n.resetCSSVariable("btn",t);n.styles.themeFonts.buttonLargeFont.fontType=="adobe"&&n.resetCSSVariable("btn_large",t);n.styles.themeFonts.mainNavFont.fontType=="adobe"&&n.resetCSSVariable("main-navigation",t);n.styles.themeFonts.secondaryNavFont.fontType=="adobe"&&n.resetCSSVariable("secondary-navigation",t);n.styles.themeFonts.mainNavDropdownFont.fontType=="adobe"&&n.resetCSSVariable("main-navigation_dropdowns",t);n.styles.themeFonts.subNavFont.fontType=="adobe"&&n.resetCSSVariable("sub-navigation",t);n.styles.themeFonts.footerNavFont.fontType=="adobe"&&n.resetCSSVariable("footer-navigation",t);n.styles.themeFonts.breadcrumbNavFont.fontType=="adobe"&&n.resetCSSVariable("breadcrumb-navigation",t);n.styles.themeFonts.anchorNavFont.fontType=="adobe"&&n.resetCSSVariable("anchor-navigation",t);n.styles.themeFonts.accordionTabNavFont.fontType=="adobe"&&n.resetCSSVariable("acc-tab",t);n.styles.themeFonts.logoFont.fontType=="adobe"&&n.resetCSSVariable("logo",t)};n.validateAdobeFields=function(t){n.styles.themeFonts.fontItems[t].adobeButtonDisabled=n.styles.themeFonts.fontItems[t].adobeProjectId!=""&&n.styles.themeFonts.fontItems[t].adobeFontFamily!=""&&n.styles.themeFonts.fontItems[t].adobeFontStyle!=""&&n.styles.themeFonts.fontItems[t].adobeFontWeight!=""?!1:!0};n.confirmCustomFontSettings=function(t){var i=n.styles.themeFonts.fontItems[t].customFileWoff2;c(i)?(n.styles.themeFonts.fontItems[t].customFontConfirmed=!0,n.styles.themeFonts.fontItems[t].customFontConfirmationError=!1,n.styles.themeFonts.fontItems[t].customFontImport="@font-face { font-family: "+n.styles.themeFonts.fontItems[t].customFontName+";src: url("+n.styles.themeFonts.fontItems[t].customFileWoff2+") format('woff2');font-weight: normal; font-style: normal; }",n.updateTypographyFontDropdowns(t,"custom")):(n.styles.themeFonts.fontItems[t].customFontConfirmationError=!0,n.styles.themeFonts.fontItems[t].customFontConfirmed=!1,n.styles.themeFonts.fontItems[t].customButtonDisabled=!0)};n.resetCustomFontSettings=function(t){n.styles.themeFonts.fontItems[t].customFontImport="";n.styles.themeFonts.fontItems[t].customFileWoff2="";n.styles.themeFonts.fontItems[t].customFontName="";n.styles.themeFonts.fontItems[t].customFontStack="";n.styles.themeFonts.fontItems[t].customFontConfirmed=!1;n.styles.themeFonts.fontItems[t].customFontConfirmationError=!1;n.styles.themeFonts.fontItems[t].customButtonDisabled=!0;n.updateTypographyFontDropdowns(t,"custom");n.styles.themeFonts.bodyFont.fontType=="custom"&&n.resetCSSVariable("body",t);n.styles.themeFonts.h1Font.fontType=="custom"&&n.resetCSSVariable("h1",t);n.styles.themeFonts.h2Font.fontType=="custom"&&n.resetCSSVariable("h2",t);n.styles.themeFonts.h3Font.fontType=="custom"&&n.resetCSSVariable("h3",t);n.styles.themeFonts.h4Font.fontType=="custom"&&n.resetCSSVariable("h4",t);n.styles.themeFonts.h5Font.fontType=="custom"&&n.resetCSSVariable("h5",t);n.styles.themeFonts.h6Font.fontType=="custom"&&n.resetCSSVariable("h6",t);n.styles.themeFonts.headingSmallFont.fontType=="custom"&&n.resetCSSVariable("p-heading_small",t);n.styles.themeFonts.headingMediumFont.fontType=="custom"&&n.resetCSSVariable("p-heading",t);n.styles.themeFonts.headingLargeFont.fontType=="custom"&&n.resetCSSVariable("p-heading_large",t);n.styles.themeFonts.secHeadingSmallFont.fontType=="custom"&&n.resetCSSVariable("secondary-heading_small",t);n.styles.themeFonts.secHeadingMediumFont.fontType=="custom"&&n.resetCSSVariable("secondary-heading",t);n.styles.themeFonts.secHeadingLargeFont.fontType=="custom"&&n.resetCSSVariable("secondary-heading_large",t);n.styles.themeFonts.introSmallFont.fontType=="custom"&&n.resetCSSVariable("p-intro_small",t);n.styles.themeFonts.introMediumFont.fontType=="custom"&&n.resetCSSVariable("p-intro",t);n.styles.themeFonts.introLargeFont.fontType=="custom"&&n.resetCSSVariable("p-intro_large",t);n.styles.themeFonts.blockquoteSmallFont.fontType=="custom"&&n.resetCSSVariable("blockquote_small",t);n.styles.themeFonts.blockquoteMediumFont.fontType=="custom"&&n.resetCSSVariable("blockquote",t);n.styles.themeFonts.blockquoteLargeFont.fontType=="custom"&&n.resetCSSVariable("blockquote_large",t);n.styles.themeFonts.buttonSmallFont.fontType=="custom"&&n.resetCSSVariable("btn_small",t);n.styles.themeFonts.buttonMediumFont.fontType=="custom"&&n.resetCSSVariable("btn",t);n.styles.themeFonts.buttonLargeFont.fontType=="custom"&&n.resetCSSVariable("btn_large",t);n.styles.themeFonts.mainNavFont.fontType=="custom"&&n.resetCSSVariable("main-navigation",t);n.styles.themeFonts.secondaryNavFont.fontType=="custom"&&n.resetCSSVariable("secondary-navigation",t);n.styles.themeFonts.mainNavDropdownFont.fontType=="custom"&&n.resetCSSVariable("main-navigation_dropdowns",t);n.styles.themeFonts.subNavFont.fontType=="custom"&&n.resetCSSVariable("sub-navigation",t);n.styles.themeFonts.footerNavFont.fontType=="custom"&&n.resetCSSVariable("footer-navigation",t);n.styles.themeFonts.breadcrumbNavFont.fontType=="custom"&&n.resetCSSVariable("breadcrumb-navigation",t);n.styles.themeFonts.anchorNavFont.fontType=="custom"&&n.resetCSSVariable("anchor-navigation",t);n.styles.themeFonts.accordionTabNavFont.fontType=="custom"&&n.resetCSSVariable("acc-tab",t);n.styles.themeFonts.logoFont.fontType=="custom"&&n.resetCSSVariable("logo",t)};n.validateCustomFields=function(t){n.styles.themeFonts.fontItems[t].customButtonDisabled=n.styles.themeFonts.fontItems[t].customFontName!=""&&n.styles.themeFonts.fontItems[t].customFontStack!=""&&n.styles.themeFonts.fontItems[t].customFileWoff2!=""&&g(n.styles.themeFonts.fontItems[t].customFileWoff2,"woff2")?!1:!0};n.getFonts=function(t){return t==="google"?n.googleFonts:t==="system"||t==="adobe"||t==="custom"?n.systemFonts:void 0};n.endPreview=function(){localStorage.setItem("UmbPreviewSessionAmount",0);window.top.location.href="/umbraco/preview/end?redir="+encodeURIComponent(nt())};n.updateDesign=function(){n.saveButtonText="Saving design changes";n.savingStatus="Saving";n.buttonDisabled=!0;(n.styles.themeLayout.headingStyles===null||n.styles.themeLayout.headingStyles===undefined)&&(n.styles.themeLayout.headingStyles=[]);var i="";angular.forEach(n.selectedHeadingItems,function(n){var t=n.Selected,r=n.Value;i=t===!0?i+r+",":i+""});n.styles.themeLayout.headingStyles=i.replace(/(^,)|(,$)/g,"");t({method:"POST",url:"/umbraco/backoffice/api/USNDesignPanel/UpdateStyles",data:n.styles,params:{websiteStyleId:websiteStyleId}}).then(function(t){t.data?(n.saveButtonText="Saved",n.savingStatus="Saved",n.buttonDisabled=!0,r(function(){n.saveButtonText="Save and publish";n.savingStatus="Ready";n.buttonDisabled=!1},2e3)):n.getLicenseError=!0},function(t){t.status===401?n.getLoggedOutError=!0:n.getGeneralSaveError=!0})};n.updateSwatchFromBackgroundStyle=function(t,i,r,u,o,h,c,l){switch(c){case"bodyBackgroundSwatch":n.bodyBackgroundSwatch=f(t.target.value,r,u,o,h);n.styles.themeColors.bodyBackgroundClass=e(i,t.target.value,o);break;case"headerBackgroundSwatch":n.headerBackgroundSwatch=f(t.target.value,r,u,o,h);n.styles.themeColors.headerBackgroundClass=e(i,t.target.value,o);break;case"navDropdownBackgroundSwatch":n.navDropdownBackgroundSwatch=f(t.target.value,r,u,o,h);n.styles.themeColors.navDropdownBackgroundClass=e(i,t.target.value,o);break;case"contentBackgroundSwatch":n.contentBackgroundSwatch=f(t.target.value,r,u,o,h);n.styles.themeColors.contentBackgroundClass=e(i,t.target.value,o);break;case"buttonBackgroundSwatch":n.buttonBackgroundSwatch=f(t.target.value,r,u,o,h);n.styles.themeColors.buttonBackgroundClass=e(i,t.target.value,o);break;case"buttonBackgroundHoverSwatch":s("baseButtonHover",t.target.value,o);n.styles.themeColors.buttonBackgroundHoverClass=e(i,t.target.value,o);break;case"footerBackgroundSwatch":n.footerBackgroundSwatch=f(t.target.value,r,u,o,h);n.styles.themeColors.footerBackgroundClass=e(i,t.target.value,o);break;case"contentAdditionalBackground":s("content",t.target.value,o,l);n.styles.themeColors.contentItems[l].backgroundSwatch=f(t.target.value,r,u,o,h);break;case"buttonAdditionalBackground":s("button",t.target.value,o,l);n.styles.themeColors.buttonItems[l].backgroundSwatch=f(t.target.value,r,u,o,h);break;case"buttonAdditionalHoverBackground":s("buttonHover",t.target.value,o,l);n.styles.themeColors.buttonItems[l].backgroundHoverSwatch=f(t.target.value,r,u,o,h);break;case"labelBackground":s("label",t.target.value,o,l);n.styles.themeColors.labelItems[l].backgroundSwatch=f(t.target.value,r,u,o,h)}};n.updateSwatchFromGradientStyle=function(t,i,r,u,h,c,l,a){var y=v(r,t.target.value,c);switch(l){case"bodyBackgroundSwatch":n.styles.themeColors.bodyBackgroundGradientDirection=o(t.target.value,c);n.bodyBackgroundSwatch=f(r,u,h,t.target.value,c);n.styles.themeColors.bodyBackgroundClass=e(i,r,t.target.value);document.documentElement.style.setProperty("--body-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--body-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--body-bg-angle",y.Angle);break;case"headerBackgroundSwatch":n.styles.themeColors.headerBackgroundGradientDirection=o(t.target.value,c);n.headerBackgroundSwatch=f(r,u,h,t.target.value,c);n.styles.themeColors.headerBackgroundClass=e(i,r,t.target.value);document.documentElement.style.setProperty("--header-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--header-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--header-bg-angle",y.Angle);break;case"navDropdownBackgroundSwatch":n.styles.themeColors.navDropdownBackgroundGradientDirection=o(t.target.value,c);n.navDropdownBackgroundSwatch=f(r,u,h,t.target.value,c);n.styles.themeColors.navDropdownBackgroundClass=e(i,r,t.target.value);document.documentElement.style.setProperty("--navigation-dropdown-start-perc",y.StartPerc);document.documentElement.style.setProperty("--navigation-dropdown-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--navigation-dropdown-angle",y.Angle);break;case"contentBackgroundSwatch":n.styles.themeColors.contentBackgroundGradientDirection=o(t.target.value,c);n.contentBackgroundSwatch=f(r,u,h,t.target.value,c);n.styles.themeColors.contentBackgroundClass=e(i,r,t.target.value);document.documentElement.style.setProperty("--base-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--base-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--base-bg-angle",y.Angle);break;case"buttonBackgroundSwatch":n.styles.themeColors.buttonBackgroundGradientDirection=o(t.target.value,c);n.buttonBackgroundSwatch=f(r,u,h,t.target.value,c);n.styles.themeColors.buttonBackgroundClass=e(i,r,t.target.value);document.documentElement.style.setProperty("--base-btn-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--base-btn-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--base-btn-bg-angle",y.Angle);break;case"buttonBackgroundHoverSwatch":s("baseButtonHover",r,t.target.value);n.styles.themeColors.buttonBackgroundHoverGradientDirection=o(t.target.value,c);n.styles.themeColors.buttonBackgroundHoverClass=e(i,r,t.target.value);document.documentElement.style.setProperty("--base-btn-bg-hover-start-perc",y.StartPerc);document.documentElement.style.setProperty("--base-btn-bg-hover-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--base-btn-bg-hover-angle",y.Angle);break;case"footerBackgroundSwatch":n.styles.themeColors.footerBackgroundGradientDirection=o(t.target.value,c);n.footerBackgroundSwatch=f(r,u,h,t.target.value,c);n.styles.themeColors.footerBackgroundClass=e(i,r,t.target.value);document.documentElement.style.setProperty("--footer-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--footer-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--footer-bg-angle",y.Angle);break;case"contentAdditionalBackground":s("content",r,t.target.value,a);n.styles.themeColors.contentItems[a].backgroundGradientDirection=o(t.target.value,c);n.styles.themeColors.contentItems[a].backgroundSwatch=f(r,u,h,t.target.value,c);document.documentElement.style.setProperty("--c"+(a+1)+"-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-bg-angle",y.Angle);break;case"buttonAdditionalBackground":s("button",r,t.target.value,a);n.styles.themeColors.buttonItems[a].backgroundGradientDirection=o(t.target.value,c);n.styles.themeColors.buttonItems[a].backgroundSwatch=f(r,u,h,t.target.value,c);document.documentElement.style.setProperty("--c"+(a+1)+"-btn-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-btn-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-btn-bg-angle",y.Angle);break;case"buttonAdditionalHoverBackground":s("buttonHover",r,t.target.value,a);n.styles.themeColors.buttonItems[a].backgroundHoverGradientDirection=o(t.target.value,c);n.styles.themeColors.buttonItems[a].backgroundHoverSwatch=f(r,u,h,t.target.value,c);document.documentElement.style.setProperty("--c"+(a+1)+"-btn-bg-hover-start-perc",y.StartPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-btn-bg-hover-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-btn-bg-hover-angle",y.Angle);break;case"labelBackground":s("label",r,t.target.value,a);n.styles.themeColors.labelItems[a].backgroundGradientDirection=o(t.target.value,c);n.styles.themeColors.labelItems[a].backgroundSwatch=f(r,u,h,t.target.value,c);document.documentElement.style.setProperty("--c"+(a+1)+"-label-bg-start-perc",y.StartPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-label-bg-stop-perc",y.StopPerc);document.documentElement.style.setProperty("--c"+(a+1)+"-label-bg-angle",y.Angle)}};n.updateSwatchFromDirection=function(t,i,r,u,e,o,s){var h=v(i,e,t.target.value);switch(o){case"bodyBackgroundSwatch":n.bodyBackgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--body-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--body-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--body-bg-angle",h.Angle);break;case"headerBackgroundSwatch":n.headerBackgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--header-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--header-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--header-bg-angle",h.Angle);break;case"navDropdownBackgroundSwatch":n.navDropdownBackgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--navigation-dropdown-start-perc",h.StartPerc);document.documentElement.style.setProperty("--navigation-dropdown-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--navigation-dropdown-angle",h.Angle);break;case"contentBackgroundSwatch":n.contentBackgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--base-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--base-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--base-bg-angle",h.Angle);break;case"buttonBackgroundSwatch":n.buttonBackgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--base-btn-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--base-btn-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--base-btn-bg-angle",h.Angle);break;case"buttonBackgroundHoverSwatch":document.documentElement.style.setProperty("--base-btn-bg-hover-start-perc",h.StartPerc);document.documentElement.style.setProperty("--base-btn-bg-hover-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--base-btn-bg-hover-angle",h.Angle);break;case"footerBackgroundSwatch":n.footerBackgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--footer-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--footer-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--footer-bg-angle",h.Angle);break;case"contentAdditionalBackground":n.styles.themeColors.contentItems[s].backgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--c"+(s+1)+"-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-bg-angle",h.Angle);break;case"buttonAdditionalBackground":n.styles.themeColors.buttonItems[s].backgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--c"+(s+1)+"-btn-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-btn-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-btn-bg-angle",h.Angle);break;case"buttonAdditionalHoverBackground":n.styles.themeColors.buttonItems[s].backgroundHoverSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--c"+(s+1)+"-btn-bg-hover-start-perc",h.StartPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-btn-bg-hover-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-btn-bg-hover-angle",h.Angle);break;case"labelBackground":n.styles.themeColors.labelItems[s].backgroundSwatch=f(i,r,u,e,t.target.value);document.documentElement.style.setProperty("--c"+(s+1)+"-label-bg-start-perc",h.StartPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-label-bg-stop-perc",h.StopPerc);document.documentElement.style.setProperty("--c"+(s+1)+"-label-bg-angle",h.Angle)}};n.updateSwatchFromBackground=function(t,i,r,u,e,o,s){switch(o){case"bodyBackgroundSwatch":n.bodyBackgroundSwatch=f(t,i,r,u,e);break;case"headerBackgroundSwatch":n.headerBackgroundSwatch=f(t,i,r,u,e);break;case"navDropdownBackgroundSwatch":n.navDropdownBackgroundSwatch=f(t,i,r,u,e);break;case"contentBackgroundSwatch":n.contentBackgroundSwatch=f(t,i,r,u,e);break;case"buttonBackgroundSwatch":n.buttonBackgroundSwatch=f(t,i,r,u,e);break;case"buttonBackgroundHoverSwatch":n.buttonBackgroundHoverSwatch=f(t,i,r,u,e);break;case"footerBackgroundSwatch":n.footerBackgroundSwatch=f(t,i,r,u,e);break;case"contentAdditionalBackground":n.styles.themeColors.contentItems[s].backgroundSwatch=f(t,i,r,u,e);break;case"buttonAdditionalBackground":n.styles.themeColors.buttonItems[s].backgroundSwatch=f(t,i,r,u,e);break;case"buttonAdditionalHoverBackground":n.styles.themeColors.buttonItems[s].backgroundHoverSwatch=f(t,i,r,u,e);break;case"labelBackground":n.styles.themeColors.labelItems[s].backgroundSwatch=f(t,i,r,u,e)}};a=n.$watch("styles",function(n,t){t!==undefined&&n!==t&&window.addEventListener("beforeunload",function(n){n.preventDefault();n.returnValue="Are you sure you want to view a different page. Any changes you have made within the design panel will not be saved."})},!0);n.$watch("designPanelForm.$invalid",function(t){n.buttonDisabled=t});n.$watch("styles.themeFonts.bodyFont",function(t,i){t!=i&&n.updateFontVariables("body",t)},!0);n.$watch("selectedHeadingItems",function(n){for(var t=0;t<n.length;t++)n[t].Selected?$("body").hasClass(n[t].Value)||$("body").addClass(n[t].Value):$("body").removeClass(n[t].Value)},!0);n.$watch("styles.themeFonts.h1Font",function(t,i){t!=i&&n.updateFontVariables("h1",t)},!0);n.$watch("styles.themeFonts.h2Font",function(t,i){t!=i&&n.updateFontVariables("h2",t)},!0);n.$watch("styles.themeFonts.h3Font",function(t,i){t!=i&&n.updateFontVariables("h3",t)},!0);n.$watch("styles.themeFonts.h4Font",function(t,i){t!=i&&n.updateFontVariables("h4",t)},!0);n.$watch("styles.themeFonts.h5Font",function(t,i){t!=i&&n.updateFontVariables("h5",t)},!0);n.$watch("styles.themeFonts.h6Font",function(t,i){t!=i&&n.updateFontVariables("h6",t)},!0);n.$watch("styles.themeFonts.headingSmallFont",function(t,i){t!=i&&n.updateFontVariables("p-heading_small",t)},!0);n.$watch("styles.themeFonts.headingMediumFont",function(t,i){t!=i&&n.updateFontVariables("p-heading",t)},!0);n.$watch("styles.themeFonts.headingLargeFont",function(t,i){t!=i&&n.updateFontVariables("p-heading_large",t)},!0);n.$watch("styles.themeFonts.secHeadingSmallFont",function(t,i){t!=i&&n.updateFontVariables("secondary-heading_small",t)},!0);n.$watch("styles.themeFonts.secHeadingMediumFont",function(t,i){t!=i&&n.updateFontVariables("secondary-heading",t)},!0);n.$watch("styles.themeFonts.secHeadingLargeFont",function(t,i){t!=i&&n.updateFontVariables("secondary-heading_large",t)},!0);n.$watch("styles.themeFonts.introSmallFont",function(t,i){t!=i&&n.updateFontVariables("p-intro_small",t)},!0);n.$watch("styles.themeFonts.introMediumFont",function(t,i){t!=i&&n.updateFontVariables("p-intro",t)},!0);n.$watch("styles.themeFonts.introLargeFont",function(t,i){t!=i&&n.updateFontVariables("p-intro_large",t)},!0);n.$watch("styles.themeFonts.blockquoteSmallFont",function(t,i){t!=i&&n.updateFontVariables("blockquote_small",t)},!0);n.$watch("styles.themeFonts.blockquoteMediumFont",function(t,i){t!=i&&n.updateFontVariables("blockquote",t)},!0);n.$watch("styles.themeFonts.blockquoteLargeFont",function(t,i){t!=i&&n.updateFontVariables("blockquote_large",t)},!0);n.$watch("styles.themeFonts.buttonSmallFont",function(t,i){t!=i&&n.updateFontVariables("btn_small",t)},!0);n.$watch("styles.themeFonts.buttonMediumFont",function(t,i){t!=i&&n.updateFontVariables("btn",t)},!0);n.$watch("styles.themeFonts.buttonLargeFont",function(t,i){t!=i&&n.updateFontVariables("btn_large",t)},!0);n.$watch("styles.themeFonts.mainNavFont",function(t,i){t!=i&&n.updateFontVariables("main-navigation",t)},!0);n.$watch("styles.themeFonts.mainNavDropdownFont",function(t,i){t!=i&&n.updateFontVariables("main-navigation_dropdowns",t)},!0);n.$watch("styles.themeFonts.secondaryNavFont",function(t,i){t!=i&&n.updateFontVariables("secondary-navigation",t)},!0);n.$watch("styles.themeFonts.subNavFont",function(t,i){t!=i&&n.updateFontVariables("sub-navigation",t)},!0);n.$watch("styles.themeFonts.footerNavFont",function(t,i){t!=i&&n.updateFontVariables("footer-navigation",t)},!0);n.$watch("styles.themeFonts.breadcrumbNavFont",function(t,i){t!=i&&n.updateFontVariables("breadcrumb-navigation",t)},!0);n.$watch("styles.themeFonts.anchorNavFont",function(t,i){t!=i&&n.updateFontVariables("anchor-navigation",t)},!0);n.$watch("styles.themeFonts.accordionTabNavFont",function(t,i){t!=i&&n.updateFontVariables("acc-tab",t)},!0);n.$watch("styles.themeFonts.logoFont",function(t,i){t!=i&&n.updateFontVariables("logo",t)},!0);n.$watch("styles.themeLayout.headerLarge",function(n,t){n!=t&&($("body").removeClass(t),$("body").addClass(n))});n.$watch("styles.themeLayout.headerSmall",function(n,t){n!=t&&($("body").removeClass(t),$("body").addClass(n))});n.$watch("styles.themeLayout.burgerNavStyle",function(n,t){n!=t&&($("#burgerNavStyle").removeClass(t),$("#burgerNavStyle").addClass(n))});n.$watch("styles.themeLayout.arrowStyle",function(n,t){n!=t&&($("body").removeClass(t),$("body").addClass(n))});n.$watch("styles.themeLayout.breadcrumbDirection",function(n,t){n!=t&&($("body").removeClass(t),$("body").addClass(n))});n.$watch("styles.themeLayout.backToTopHorizontalPosition",function(n,t){n!=t&&($("#backToTop").removeClass(t),$("#backToTop").addClass(n))});n.$watch("styles.themeLayout.displayBackToTopOption",function(n){typeof n!="undefined"&&(n?$("#backToTop").show():$("#backToTop").hide())});n.$watch("styles.themeLayout.notificationHorizontalPosition",function(n,t){n!=t&&($("#NotificationPanel").removeClass(t),$("#NotificationPanel").addClass(n))});n.$watch("styles.themeColors.bodyBackgroundClass",function(n,t){n!=t&&($("body").removeClass(t),$("body").addClass(n))});n.$watch("styles.themeColors.headerBackgroundClass",function(n,t){n!=t&&($("#site-header").removeClass(t),$("#site-header").addClass(n))});n.$watch("styles.themeColors.navDropdownBackgroundClass",function(n,t){n!=t&&($(".nav-dropdown").removeClass(t),$(".nav-dropdown").addClass(n))});n.$watch("styles.themeColors.contentBackgroundClass",function(n,t){if(typeof n!="undefined"&&typeof t!="undefined"&&n!=t){var i=t.split(" "),r=n.split(" ");$("."+i[0]).removeClass(i[1]);$("."+i[0]).addClass(r[1])}});n.$watch("styles.themeColors.buttonBackgroundClass",function(n,t){if(typeof n!="undefined"&&typeof t!="undefined"&&n!=t){var i=t.split(" "),r=n.split(" ");$("."+i[0]).removeClass(i[1]);$("."+i[0]).addClass(r[1])}});n.$watch("styles.themeColors.buttonBackgroundHoverClass",function(n,t){if(typeof n!="undefined"&&typeof t!="undefined"&&n!=t){var i=t.split(" "),r=n.split(" ");$("."+i[0]).removeClass(i[1]);$("."+i[0]).addClass(r[1])}});n.$watch("styles.themeColors.footerBackgroundClass",function(n,t){n!=t&&($("#site-footer").removeClass(t),$("#site-footer").addClass(n))});n.$watch("styles.themeLayout.showHeaderScrollLarge",function(n){typeof n!="undefined"&&(n?($("body").removeClass("hide_header-on-scroll-lg"),$("body").addClass("show_header-on-scroll-lg")):($("body").removeClass("show_header-on-scroll-lg"),$("body").addClass("hide_header-on-scroll-lg")))});n.$watch("styles.themeLayout.showHeaderScrollSmall",function(n){typeof n!="undefined"&&(n?($("body").removeClass("hide_header-on-scroll-sm"),$("body").addClass("show_header-on-scroll-sm")):($("body").removeClass("show_header-on-scroll-sm"),$("body").addClass("hide_header-on-scroll-sm")))});n.$watch("styles.themeLayout.transparentLargeHeader",function(n){typeof n!="undefined"&&(n?$("body").addClass("transparent-header-lg"):$("body").removeClass("transparent-header-lg"))});n.$watch("styles.themeLayout.imageZoomEffect",function(n){typeof n!="undefined"&&(n?($("body").removeClass("no-zoom_hover"),$("body").addClass("zoom_hover")):($("body").removeClass("zoom_hover"),$("body").addClass("no-zoom_hover")))});n.$watch("styles.themeLayout.imageBlur",function(n){typeof n!="undefined"&&(n?$("body").addClass("blur-up-lazy-loading"):$("body").removeClass("blur-up-lazy-loading"))});n.$watch("styles.themeLayout.mainNavModalMegaStyle",function(n){typeof n!="undefined"&&(n?$("body").addClass("main-nav_mega-modal"):$("body").removeClass("main-nav_mega-modal"))});n.$watch("styles.themeLayout.transparentSmallHeader",function(n){typeof n!="undefined"&&(n?$("body").addClass("transparent-header-sm"):$("body").removeClass("transparent-header-sm"))});n.$watch("styles.themeSpacing.fixedWidth",function(n){typeof n!="undefined"&&(n?$("body").addClass("max-width"):$("body").removeClass("max-width"))});n.$watch("styles.themeSpacing.headerFixedWidth",function(n){typeof n!="undefined"&&(n?($("#site-header > div").removeClass("container-fluid"),$("#site-header > div").addClass("container")):($("#site-header > div").removeClass("container"),$("#site-header > div").addClass("container-fluid")))});n.$watch("styles.themeSpacing.footerFixedWidth",function(n){typeof n!="undefined"&&(n?($("#site-footer > div").removeClass("container-fluid"),$("#site-footer > div").addClass("container")):($("#site-footer > div").removeClass("container"),$("#site-footer > div").addClass("container-fluid")))});n.$watch("styles.themeLayout.logoLinkUnderlineInitial",function(n){typeof n!="undefined"&&(n?$("body").addClass("logo-underline-link"):$("body").removeClass("logo-underline-link"))});n.$watch("styles.themeLayout.logoLinkUnderlineHover",function(n){typeof n!="undefined"&&(n?$("body").addClass("logo-underline-link-hover"):$("body").removeClass("logo-underline-link-hover"))});n.$watch("styles.themeLayout.mainNavLinkUnderlineInitial",function(n){typeof n!="undefined"&&(n?$("body").addClass("main-navigation-underline-link"):$("body").removeClass("main-navigation-underline-link"))});n.$watch("styles.themeLayout.mainNavLinkUnderlineHover",function(n){typeof n!="undefined"&&(n?$("body").addClass("main-navigation-underline-link-hover"):$("body").removeClass("main-navigation-underline-link-hover"))});n.$watch("styles.themeLayout.secondaryNavLinkUnderlineInitial",function(n){typeof n!="undefined"&&(n?$("body").addClass("secondary-navigation-underline-link"):$("body").removeClass("secondary-navigation-underline-link"))});n.$watch("styles.themeLayout.secondaryNavLinkUnderlineHover",function(n){typeof n!="undefined"&&(n?$("body").addClass("secondary-navigation-underline-link-hover"):$("body").removeClass("secondary-navigation-underline-link-hover"))});n.$watch("styles.themeLayout.contentLinkUnderlineInitial",function(n){typeof n!="undefined"&&(n?$("body").addClass("content-underline-link"):$("body").removeClass("content-underline-link"))});n.$watch("styles.themeLayout.contentLinkUnderlineHover",function(n){typeof n!="undefined"&&(n?$("body").addClass("content-underline-link-hover"):$("body").removeClass("content-underline-link-hover"))});n.$watch("styles.themeLayout.footerLinkUnderlineInitial",function(n){typeof n!="undefined"&&(n?$("body").addClass("footer-underline-link"):$("body").removeClass("footer-underline-link"))});n.$watch("styles.themeLayout.footerLinkUnderlineHover",function(n){typeof n!="undefined"&&(n?$("body").addClass("footer-underline-link-hover"):$("body").removeClass("footer-underline-link-hover"))});n.$watch("styles.themeLayout.buttonLinkUnderlineInitial",function(n){typeof n!="undefined"&&(n?$("body").addClass("button-underline-link"):$("body").removeClass("button-underline-link"))});n.$watch("styles.themeLayout.buttonLinkUnderlineHover",function(n){typeof n!="undefined"&&(n?$("body").addClass("button-underline-link-hover"):$("body").removeClass("button-underline-link-hover"))});n.$watch("editText",function(n){document.designMode=n==!0?"on":"off"});n.$on("$destroy",function(){window.removeEventListener("beforeunload",a)})}]);angular.module("designApp").directive("colorpicker",function(){return{require:"?ngModel",link:function(n,t,i,r){(t.spectrum(),r)&&(r.$render=function(){var i,u;t.spectrum({showPalette:!0,palette:[n.paletteItems],showInput:!0,showInitial:!0,preferredFormat:"hex",chooseText:"select",color:r.$viewValue,show:function(){i=!1;u=r.$viewValue},move:function(t){n.$apply(function(){r.$setViewValue(t.toHexString())});var i=this.dataset.cssvar,u=t._r+","+t._g+","+t._b;document.documentElement.style.setProperty(i,u)},hide:function(){if(!i){r.$setViewValue(u);var t=this.dataset.cssvar,n=hexToRgb(u),f=n.r+","+n.g+","+n.b;document.documentElement.style.setProperty(t,f)}},change:function(t){n.$apply(function(){i=!0;r.$setViewValue(t.toHexString())});var u=this.dataset.cssvar,f=t._r+","+t._g+","+t._b;document.documentElement.style.setProperty(u,f)}})})}}});angular.module("designApp").directive("palettepicker",function(){return{require:"?ngModel",link:function(n,t,i,r){(t.spectrum(),r)&&(r.$render=function(){var i,u;t.spectrum({showInput:!0,showInitial:!0,preferredFormat:"hex",chooseText:"select",color:r.$viewValue,show:function(){i=!1;u=r.$viewValue},move:function(t){n.$apply(function(){r.$setViewValue(t.toHexString())});var i=this.dataset.cssvar,u=t._r+","+t._g+","+t._b;document.documentElement.style.setProperty(i,u)},hide:function(){if(!i){r.$setViewValue(u);var t=this.dataset.cssvar,n=hexToRgb(u),f=n.r+","+n.g+","+n.b;document.documentElement.style.setProperty(t,f)}},change:function(t){n.$apply(function(){i=!0;r.$setViewValue(t.toHexString())});var u=this.dataset.cssvar,f=t._r+","+t._g+","+t._b;document.documentElement.style.setProperty(u,f)}})})}}});angular.module("designApp").directive("switch",function(){return{restrict:"AE",replace:!0,transclude:!0,template:function(n,t){var i="";return i+="<span",i+=' class="switcher'+(t.class?" "+t.class:"")+'"',i+=t.ngModel?' ng-click="'+t.ngModel+"=!"+t.ngModel+'"':"",i+=' ng-class="{ checked:'+t.ngModel+' }"',i+=">",i+="<small><\/small>",i+='<input type="checkbox"',i+=t.id?' id="'+t.id+'-check"':"",i+=t.name?' name="'+t.name+'"':"",i+=t.ngModel?' ng-model="'+t.ngModel+'"':"",i+=' style="display:none" />',i+"<\/span>"}}});